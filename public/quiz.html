<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../public/css/quiz.css">
    <link rel="shortcut icon" href="../public/assets/icon/favIcon.ico">
    <title>Quiz | O Rappa</title>
</head>

<body>
    <div class="boxQuiz" id="quiz">
        <h1>Bem Vindo!</h1><br>
        <h2>Será que você conhece O Rappa?</h2>
        <div id="question"></div>
        <div id="options"></div>
        <button id="iniciar" onclick="iniciarQuiz()">Iniciar Quiz</button>
    </div>
    <div class="midiaQuiz"></div>
</body>

</html>

<script>
    const quizData = [
        {
            question: "Qual o sobrenome de Billie?",
            options: ["Ailash", "Eillish", "Eilish", "Eilich"],
            answer: "Eilish"
        },
        {
            question: "Em que ano Billie nasceu?",
            options: ["2004", "2002", "2000", "1990"],
            answer: "2002"
        },
        // Add more questions here...
    ];

    function iniciarQuiz() {
        document.getElementById("iniciar").style.display = 'none';
        const questionElement = document.getElementById("question");
        const optionsElement = document.getElementById("options");

        let currentQuestion = 0;
        let score = 0;

        function showQuestion() {
            const question = quizData[currentQuestion];
            questionElement.innerText = question.question;

            optionsElement.innerHTML = "";
            question.options.forEach(option => {
                const button = document.createElement("button");
                button.innerText = option;
                optionsElement.appendChild(button);
                button.addEventListener("click", selectAnswer);
            });
        }

        function selectAnswer(e) {
            const selectedButton = e.target;
            const answer = quizData[currentQuestion].answer;

            if (selectedButton.innerText === answer) {
                score++;
            }

            currentQuestion++;

            if (currentQuestion < quizData.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById("quiz").innerHTML = `
                <h1>Quiz Concluído</h1>
                <p>Você acertou ${score} de um total de ${quizData.length} questões</p>
                <button id="restart" onclick="reiniciarQuiz()">Recomeçar Quiz</button>

                <button id="restart" onclick="voltarDash()">voltar para Dashboard</button>
            `;
        }
        showQuestion();
    }

    function reiniciarQuiz() {
        document.getElementById("quiz").innerHTML = `
            <h1>Será que você conhece a banda O Rappa?</h1>
            <div id="question"></div>
            <div id="options"></div>
            <button id="iniciar" onclick="iniciarQuiz()">Iniciar Quiz</button>
        `;
    }

    function voltarDash(){
        window.location = "dash.html"
    }
</script>